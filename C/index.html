<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puter AI Chat Example</title>
    <script src="https://js.puter.com/v2/"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }
        #questionInput {
            width: 80%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        #submitButton {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        #submitButton:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h1>AI Chat Interface</h1>

    <input type="text" id="questionInput" placeholder="Type your question here...">

    <button id="submitButton">Ask AI</button>

    <div id="result"></div>

    <script>
        // Get references to the input and button elements
        const inputElement = document.getElementById('questionInput');
        const buttonElement = document.getElementById('submitButton');
        const resultDiv = document.getElementById('result');

        // Function to handle the AI chat request
        function askAI() {
            const userQuestion = inputElement.value.trim(); // Get the text and remove whitespace

            if (userQuestion === "") {
                resultDiv.innerHTML = "Please enter a question.";
                return;
            }

            // Call the custom function from the puter.com library
            // The result of the chat function call is passed to the .then() method
            puter.ai.chat(userQuestion, { 
                model: "gpt-5.2-pro", 
                driver: "openrouter" 
            }).then(response => {
                // Display the AI's response in the result div
                resultDiv.innerHTML = `<strong>AI Response:</strong><br>${response}`;
                console.log("AI Response:", response);
            }).catch(error => {
                // Handle any errors that occur during the chat request
                resultDiv.innerHTML = `<strong>Error:</strong><br>An error occurred: ${error.message}`;
                console.error("Chat Error:", error);
            });
            
            resultDiv.innerHTML = "Asking the AI... Please wait.";
        }

        // Attach the askAI function to the button's click event
        buttonElement.addEventListener('click', askAI);

        // Optional: Allow pressing Enter in the input field to trigger the function
        inputElement.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                askAI();
            }
        });
        
    </script>

</body>
</html>
