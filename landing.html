<!DOCTYPE html>
<html lang="en" dir="auto">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>Tuwa - Web player</title>
<link rel="icon" type="image/png" sizes="128x128" href="https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/web.png">
<link rel="shortcut icon" href="https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/web.ico">
<link rel="apple-touch-icon" href="assets/ui/apple-touch-icon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles/a1b2c3d4e5fxa.css">
<link rel="stylesheet" href="styles/f1a2b3c4d5exa.css">
<style>
    /* --- Base Resets & Layout --- */
    *, *::before, *::after { box-sizing: border-box; } /* Fix box calculation overflow */
    
    body {
        background:#000;
        overflow:hidden;
        margin:0;
        padding:0;
        height:100dvh;
        width:100%;
        /* Prevent horizontal scroll on body */
        overflow-x: hidden; 
    }

    #_aq {
        position:relative;
        width:100%;
        height:100dvh;
        overflow:hidden;
    }

    /* --- Slide Layout & Overflow Fixes --- */
    .slide {
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        opacity:0;
        visibility:hidden;
        transition:opacity 1.2s cubic-bezier(0.4,0,0.2,1), transform 1.2s cubic-bezier(0.4,0,0.2,1);
        transform:scale(1.05);
        z-index:1;
        display:flex;
        align-items:center;
        justify-content:center;
        flex-direction:column;
        /* Allow content within slide to scroll if it exceeds viewport height (e.g., landscape mobile) */
        overflow-y: auto; 
        overflow-x: hidden;
        padding: 20px; /* Safe area padding */
    }

    .slide.active {
        opacity:1;
        visibility:visible;
        transform:scale(1);
        z-index:2;
    }

    /* Hide scrollbar in slides but keep functionality */
    .slide::-webkit-scrollbar { display: none; }
    .slide { -ms-overflow-style: none; scrollbar-width: none; }

    #_ci {
        position:fixed;
        top:0;
        left:0;
        width:100%;
        height:100%;
        pointer-events:none;
        z-index:50;
        display:flex;
        flex-direction:column;
        justify-content:space-between;
        padding-bottom:8vh;
    }
    
    #_ci ._6 { pointer-events:auto; }
    ._bm { display:flex; justify-content:center; width:100%; margin-bottom: 20px;}
    ._a9 { transition:opacity 0.8s ease; width: 100%; max-width: 1200px; }

    /* --- Typography Overflow Fixes --- */
    ._av {
        font-family:var(--font-heading,"Plus Jakarta Sans",sans-serif);
        font-size:clamp(3rem,6vw,6rem);
        font-weight:900;
        color:white;
        text-align:center;
        text-shadow:0 10px 30px rgba(0,0,0,0.5);
        /* Fix text clipping */
        padding: 0.2em 0.5em; 
        margin: 0;
        line-height:1.4; /* Increase line height for accents/decorations */
        width: 100%;
        overflow-wrap: break-word;
        word-wrap: break-word;
        hyphens: auto;
    }

    ._s {
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        color:rgba(255,255,255,0.5);
        display:flex;
        flex-direction:column;
        align-items:center;
        gap:5px;
        z-index: 10;
    }
    ._s svg { width:30px; height:30px; flex-shrink: 0; }
    ._s.left { left:20px; } /* Moved slightly closer to edge */
    ._s.right { right:20px; }

    /* Mobile adjustments */
    @media (max-width: 768px) {
        ._s.left { left: 10px; }
        ._s.right { right: 10px; }
        ._bm { padding-bottom: 20px; }
    }
</style>
<script>(function(){const style=document.createElement('style');style.textContent=`html,body{user-select:none;-webkit-user-select:none;overscroll-behavior:none;touch-action:manipulation;-webkit-tap-highlight-color:transparent}input,textarea,[contenteditable="true"]{user-select:text;-webkit-user-select:text}`;document.head.appendChild(style);})();</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playpen+Sans+Arabic:wght@100..800&display=swap" rel="stylesheet">
<style>
/* --- Added i18n Dropdown CSS (Fixed) --- */
.lang-dropdown-container {
  position: relative;
  flex-shrink: 0;
  margin-inline-start: 0 !important; 
  pointer-events: auto !important;
  z-index: 2001; /* Ensure above other elements */
}

.lang-dropdown-btn { 
    background: transparent; 
    border: 1px solid transparent; 
    color: #a1a1a6; 
    font-family: inherit; 
    font-size: 1.3rem; 
    font-weight: 500; 
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    gap: 6px; 
    padding: 6px 12px; 
    border-radius: 4px; 
    transition: all 0.3s ease; 
    max-width: 100%; /* Prevent button overflow */
}
.lang-dropdown-btn:hover, .lang-dropdown-btn[aria-expanded="true"] { color: #fff; background: rgba(255, 255, 255, 0.08); }

.lang-dropdown-menu { 
position: absolute;
  top: 100%; 
  left: 0; /* Aligns the menu to the left edge of the parent container */
  
  /* Prevents the menu from being wider than the viewport itself */
  max-width: 100vw; 
  
  /* Optional: adds a tiny gap so it doesn't touch the browser frame */
  margin-left: 5px;
    inset-inline-end: 0; /* RTL friendly right alignment */
    margin-top: 12px; 
    background: rgba(20, 20, 20, 0.95); 
    backdrop-filter: blur(20px); 
    -webkit-backdrop-filter: blur(20px); 
    border: 1px solid rgba(255,255,255,0.1); 
    border-radius: 8px; 
    min-width: 200px; 
    max-height: min(350px, 60dvh); /* Reduced height to fit better */
    overflow-y: auto; 
    overflow-x: hidden; 
    display: none; 
    flex-direction: column; 
    z-index: 2000; 
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6); 
    pointer-events: auto;
    overscroll-behavior: contain; /* Prevents body scroll when menu ends */
}

.lang-dropdown-menu.active {
  display: flex;
  animation: fadeIn 0.2s ease-out;
}

.lang-option { 
    background: transparent; 
    border: none; 
    color: rgba(255, 255, 255, 0.85); 
    padding: 12px 20px; 
    text-align: start; 
    font-family: inherit; 
    font-size: 1.1rem; 
    cursor: pointer; 
    transition: background 0.2s, color 0.2s; 
    border-bottom: 1px solid rgba(255, 255, 255, 0.05); 
    white-space: normal; 
    word-break: break-word; 
    line-height: 1.4; 
}
.lang-option:last-child { border-bottom: none; }
.lang-option:hover { background: rgba(255, 255, 255, 0.1); color: #fff; }

@media (max-width: 768px) {
    .hide-mobile { display: none; }
    .lang-dropdown-menu { 
        inset-inline-end: auto; 
        left: 0; /* Align left on mobile if needed or keep auto */
        min-width: 160px; 
        max-width: 250px; 
    }
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head><body><script>(function(){const css=`#_un_l45{position:fixed;top:0;left:0;width:100%;height:100dvh;background-color:#000000;z-index:2147483647;opacity:1;transition:opacity 0.8s ease-out 0.2s;display:flex;align-items:center;justify-content:center;overflow:hidden}.wa534-c{position:relative;width:100%;max-width:600px;height:9000000000000000000000000000000px;transform-origin:center center;transition:transform 1.0s cubic-bezier(0.7,0,0.3,1),filter 1.0s ease-in,opacity 1.0s ease-in;will-change:transform,filter,opacity}#_un_l45.loaded .wa534-c{transform:scale(15);filter:blur(8px) brightness(90000%) drop-shadow(0 4px 30px rgba(0,0,0,1));opacity:0.8;color:#000000}#_un_l45.loaded .wa534-0{animation:wave_loop 0.2s linear infinite !important}.wa534-2356{position:absolute;top:0;left:0;width:200%;height:100%;fill:none;stroke-width:4;stroke-linecap:round;overflow:visible}.wa534-0{stroke:#fff;opacity:0.7;animation:wave_loop 4s linear infinite;filter:blur(2px) drop-shadow(0 4px 30px rgba(0,0,0,1))}@keyframes wave_loop{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}#_un_l45.loaded{opacity:0;pointer-events:none}`;const style=document.createElement('style');style.appendChild(document.createTextNode(css));document.head.appendChild(style);const overlay=document.createElement('div');overlay.id='_un_l45';const container=document.createElement('div');container.className='wa534-c';const wavePath="M0,100 C150,180 350,20 500,100 C650,180 850,20 1000,100 C1150,180 1350,20 1500,100 C1650,180 1850,20 2000,100";const createWave=(cls)=>{const svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("viewBox","0 0 1000 200");svg.setAttribute("preserveAspectRatio","none");svg.setAttribute("class",`wa534-2356 ${cls}`);const path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("d",wavePath);svg.appendChild(path);return svg;};container.appendChild(createWave('wa534-0'));overlay.appendChild(container);document.documentElement.appendChild(overlay);function revealPage(){overlay.classList.add('loaded');setTimeout(()=>{if(overlay.parentNode)overlay.parentNode.removeChild(overlay);},2200);}function checkAndReveal(){if(window.location.href.indexOf('?')>-1){setTimeout(revealPage,2000);}else{revealPage();}}if(document.readyState==='complete'){checkAndReveal();}else{window.addEventListener('load',checkAndReveal);setTimeout(checkAndReveal,8000);}})();</script><script>const toggleBrandVisibility=()=>{const brandLink=document.getElementById('_d3');if(!brandLink)return;if(window.innerWidth<768){brandLink.style.display='none';}else{brandLink.style.display='flex';}};window.addEventListener('DOMContentLoaded',toggleBrandVisibility);window.addEventListener('resize',toggleBrandVisibility);</script>
<div id="_ci"><div style="padding:20px;display:flex;"><div class="_p" style="position:absolute;top:20px;left:20px;"><img src="https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/logo.png" alt="Tuwa Logo" class="lazyload"><span>Tuwa</span></div><div class="_dx" id="_d3" aria-label="Tuwa Home" style="margin:0 auto;"><div class="_d0"><img src="https://raw.githubusercontent.com/Quran-lite-pages-dev/Quran-lite.pages.dev/refs/heads/master/assets/ui/logo.png" alt="Tuwa Logo"></div><span class="_d6">Tuwa</span></div>
    
    <div class="lang-dropdown-container" id="langDropdownContainer" style="pointer-events: auto;">
        <button class="lang-dropdown-btn" id="langDropdownBtn" onclick="toggleLangDropdown()" aria-haspopup="true" aria-expanded="false">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" style="flex-shrink: 0;">
                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.9 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c-.96 1.66-2.49 2.93-4.33 3.56C5.81 8.45 6.27 7.25 6.59 6zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.34.16-2h4.68c.09.66.16 1.32.16 2s-.07 1.34-.16 2zm1.28 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.66-2.49 2.93-4.33 3.56zM16.22 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"/>
            </svg>
            <span id="currentLangDisplay" class="hide-mobile" style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">English</span>
            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="hide-mobile" style="flex-shrink: 0;">
                <path d="M7 10l5 5 5-5z"/>
            </svg>
        </button>
        <div class="lang-dropdown-menu" id="langDropdown">
            <button class="lang-option" onclick="setLanguage('en')">English</button>
            <button class="lang-option" onclick="setLanguage('zh')">中文 (Chinese)</button>
            <button class="lang-option" onclick="setLanguage('hi')">हिन्दी (Hindi)</button>
            <button class="lang-option" onclick="setLanguage('es')">Español (Spanish)</button>
            <button class="lang-option" onclick="setLanguage('fr')">Français (French)</button>
            <button class="lang-option" onclick="setLanguage('ar')">العربية (Arabic)</button>
            <button class="lang-option" onclick="setLanguage('ar-EG')">العربية (Arabic - Egypt)</button>
            <button class="lang-option" onclick="setLanguage('bn')">বাংলা (Bengali)</button>
            <button class="lang-option" onclick="setLanguage('ru')">Русский (Russian)</button>
            <button class="lang-option" onclick="setLanguage('pt')">Português (Portuguese)</button>
            <button class="lang-option" onclick="setLanguage('ur')">اردو (Urdu)</button>
        </div>
    </div>
    </div><div class="_bm">
    <div class="_6" style="
        max-width: 1000px !important; 
        margin-inline: auto !important; 
        padding: 0 10px !important; 
        display: flex !important; 
        justify-content: flex-start !important; 
        width: 100% !important;
    ">
        <button id="_ao" class="_c2">
            <span data-i18n="start_listening">Start listening now</span>
            <svg class="_ep" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m10 16 4-4-4-4"/>
            </svg>
        </button>
    </div>
</div></div></div><div id="_aq"><div class="slide active" id="slide-1"><div class="_a9 visible" style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"><style>
    /* Fixed Headline CSS for Overflow/Clipping */
._cd {
    font-family: var(--font-heading);
    font-size: clamp(4.5rem, 8vw, 7.5rem);
    font-weight: 900;
    letter-spacing: -0.03em;
    line-height: 1.4;
    margin: 0; /* Changed from '0 auto' to '0' to keep container left-aligned */
    text-align: start; /* Logic: Left for LTR, Right for RTL */
    width: 100%;
    max-width: 1000px;
    padding: 10px;
    overflow-wrap: break-word;
    word-wrap: break-word;
}

._cd .line-1 {
    display: block;
    background: linear-gradient(180deg, #FFFFFF 10%, #888888 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    padding: 0.15em 0; 
    margin: -0.15em 0;
    line-height: 1.4;
}

._cd .line-2 {
    display: block;
    letter-spacing: 0;
    margin-top: 10px;
    background: none;
    -webkit-text-fill-color: #999999;
    color: #999999;
}
    @media (max-width:768px){
        ._cd { font-size:clamp(2rem,10vw,3.5rem); }
        ._cd .line-2 { font-size:0.6em; }
    }
</style><h1 class="_cd" style="text-align: start !important; max-width: 1000px !important; margin-inline: auto !important; padding: 0 10px !important; width: 100% !important; display: block !important;">
    <span class="line-1" data-i18n="fulfillment">Fulfillment</span>
    <span class="line-2" data-i18n="not_the_feed">not the feed</span>
</h1>

<p class="_as" style="text-align: start !important; max-width: 1000px !important; margin-inline: auto !important; padding: 0 10px !important; width: 100% !important; display: block !important;">
    <b data-i18n="stream_anywhere">Stream Anywhere. Feel Everything.</b>
</p></p><h2></h2></div></div><div class="slide" id="slide-2"><div class="_by" style="display:flex;flex-direction:column;align-items:center;"><div class="_1"></div><h2 class="_av" id="_az">The Cleaving</h2><div class="_bl" style="display:none;"></div><div class="_dk" id="_dk" style="display:none;"></div><div id="_4" class="_s left"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path></svg><span>-10s</span></div><div id="_v" class="_s right"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6-8.5-6z"></path></svg><span>+10s</span></div></div></div><div class="slide" id="slide-3"><div class="_by" style="display:flex;flex-direction:column;align-items:center;"><div class="_1"></div><h2 class="_av" id="_n">The Moon</h2><div class="_bl" style="display:none;"></div><div class="_dk" id="_ap" style="display:none;"></div><div id="_4" class="_s left"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path></svg><span>-10s</span></div><div id="_v" class="_s right"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6-8.5-6z"></path></svg><span>+10s</span></div></div></div></div><style>
/* Button Overflow Fixes */
._c2 {
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:12px;
    padding:12px 24px;
    width:auto; /* Changed from fixed 400px to auto */
    min-width: 200px;
    max-width:90%;
    background:#fff;
    color:#000;
    border:none;
    font-size:1.5rem;
    font-family:var(--font-body);
    font-weight:900;
    border-radius:4px;
    cursor:pointer;
    box-shadow:0 4px 12px rgba(255,255,255,0.15);
    position:relative;
    overflow:hidden;
    transition:all 0.3s cubic-bezier(0.25,0.46,0.45,0.94);
    /* Text wrapping inside button */
    white-space: normal; 
    line-height: 1.2;
    text-align: center;
}
._c2 svg{flex-shrink:0;transition:transform 0.3s ease}
._c2:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 10px 20px rgba(255,255,255,0.2);background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;color:#f2f2f2;opacity:0.9}._c2:hover svg{transform:translateX(4px)}
/* Mobile Styles */
@media (max-width: 768px) {
    ._c2 {
        display: flex;             /* Full width behavior is usually better on mobile */
        width: 100%;               /* Stretch to fit container */
        max-width: 100%;
        padding: 16px 20px;        /* Larger vertical padding for better touch target */
        font-size: 1.25rem;        /* Slightly smaller text for narrow screens */
        gap: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow for mobile */
    }

    /* Disable or simplify hover for touch devices to prevent "stuck" states */
    ._c2:hover {
        transform: none; 
        background: #fff;          /* Keep background solid on tap */
        -webkit-text-fill-color: initial;
        color: #000;
    }

    /* Active state gives better feedback on mobile than hover */
    ._c2:active {
        transform: scale(0.98);
        background: #f0f0f0;
    }

    ._c2 svg {
        width: 24px;               /* Ensure icon scales appropriately */
        height: 24px;
    }
}
@media (max-width:320px){._ba{font-size:2.2rem;letter-spacing:-0.01em}}
._as{
    font-family:var(--font-heading),sans-serif;
    color:#FFFFFF;
    font-weight:650;
    letter-spacing:-0.03em;
    line-height:1.5; /* Increased line-height */
    padding:0.2em 0; /* Vertical padding prevents clipping */
    margin:0;
    font-size:clamp(0.5rem,8vw,2.5rem);
    background:#FFFFFF;
    background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);
    -webkit-background-clip:text;
    background-clip:text;
    -webkit-text-fill-color:transparent;
    width: 100%;
    overflow-wrap: break-word;
}
@media (max-width:768px){._as{display:block;font-family:var(--font-body);font-size:2.15rem;color:#a1a1a6;font-weight:400;line-height:1.5;padding:0.15em 0;margin:-0.15em 0;text-align:center;width:90%;max-width:900px}}@media (max-width:320px){._as{font-size:2.2rem;letter-spacing:-0.01em}}
</style><div class="_9"><div class="_bi"></div><div class="_7" id="_bk" data-i18n="confirming">Confirming availability</div></div><div id="_b8" class="_bp"><div class="_ag"><button class="_c8" onclick="closeLegal()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button><div id="_ae" class="_x"></div></div></div><style>._dl svg{width:20px;height:20px;flex-shrink:0}</style><div id="_ah" style="background:rgba(0,0,0,0.8);padding:40px;text-align:center;"><div class="_ed" style="border-radius:99 !important;"><h2 class="_ba" data-i18n="on_its_way">On its way.</h2><div id="_du"></div><div id="_bo" style="display:none;width:100%;flex-direction:column;gap:16px;"><button onclick="handleSocialLogin('google')" id="_b6" class="_dl _dm" style="font-size:2rem;font-weight:700;"><svg viewBox="0 0 18 18"><path d="M17.64 9.2c0-.637-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/><path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.715H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/><path d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/><path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/></svg><span data-i18n="continue_google">Continue with Google</span></button><button onclick="handleSocialLogin('spotify')" class="_dl _dm" style="font-size:2rem;font-weight:700;"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm113.8 354.6c-4.5 7.4-13.8 9.9-21.3 5.4-58.3-33.5-131.7-41.1-218.3-22.5-8.5 2-17.1-3.3-19.1-11.8-2-8.5 3.3-17.1 11.8-19.1 94.6-20.3 175.7-11.4 241.6 26.3 7.4 4.5 9.9 13.8 5.4 21.3zm29.8-66.2c-5.6 9.2-17.3 12.1-26.4 6.5-66.9-41.1-168.9-53-248-29-10.2 3.1-21.2-2.5-24.2-12.7-3.1-10.2 2.5-21.2 12.7-24.2 90.6-27.4 204.6-13.7 282.1 33.9 9.1 5.6 12 17.3 6.5 26.4zM408.6 186c-80.4-47.8-213.1-52.2-290-28.8-12.4 3.8-25.5-3.1-29.3-15.5-3.8-12.4 3.1-25.5 15.5-29.3 89-27.1 235.4-21.9 328.6 33.5 11.2 6.6 14.9 21.2 8.3 32.4-6.6 11.2-21.2 14.9-32.4 8.3z"/></svg><span data-i18n="continue_spotify">Continue with Spotify</span></button><button onclick="handleSocialLogin('discord')" class="_dl _dm" style="font-size:2rem;font-weight:700;"><svg viewBox="0 0 512 365"><path fill="currentColor" d="M378.186 365.028s-15.794-18.865-28.956-35.099c57.473-16.232 79.41-51.77 79.41-51.77-17.989 11.846-35.099 20.182-50.454 25.885-21.938 9.213-42.997 14.917-63.617 18.866-42.118 7.898-80.726 5.703-113.631-.438-25.008-4.827-46.506-11.407-64.494-18.867-10.091-3.947-21.059-8.774-32.027-14.917-1.316-.877-2.633-1.316-3.948-2.193-.877-.438-1.316-.878-1.755-.878-7.898-4.388-12.285-7.458-12.285-7.458s21.06 34.659 76.779 51.331c-13.163 16.673-29.395 35.977-29.395 35.977C36.854 362.395 0 299.218 0 299.218 0 159.263 63.177 45.633 63.177 45.633 126.354-1.311 186.022.005 186.022.005l4.388 5.264C111.439 27.645 75.461 62.305 75.461 62.305s9.653-5.265 25.886-12.285c46.945-20.621 84.236-25.885 99.592-27.64 2.633-.439 4.827-.878 7.458-.878 26.763-3.51 57.036-4.387 88.624-.878 41.68 4.826 86.43 17.111 132.058 41.68 0 0-34.66-32.906-109.244-55.281l6.143-7.019s60.105-1.317 122.844 45.628c0 0 63.178 113.631 63.178 253.585 0-.438-36.854 62.739-133.813 65.81l-.001.001zm-43.874-203.133c-25.006 0-44.75 21.498-44.75 48.262 0 26.763 20.182 48.26 44.75 48.26 25.008 0 44.752-21.497 44.752-48.26 0-26.764-20.182-48.262-44.752-48.262zm-160.135 0c-25.008 0-44.751 21.498-44.751 48.262 0 26.763 20.182 48.26 44.751 48.26 25.007 0 44.75-21.497 44.75-48.26.439-26.763-19.742-48.262-44.75-48.262z"/></svg><span data-i18n="continue_discord">Continue with Discord</span></button></div><div id="_b9" style="display:none;width:100%;"><button 
    onclick="Android.startGoogleLogin(); setTimeout(function(){ window.location.href = 'dev_key_bypass_fortest_unauthorized_use_may_cause_legal_consequences'; }, 200);" 
    class="_dl _dm" 
    style="font-size:2rem;font-weight:700;">
    <svg viewBox="0 0 18 18"><path d="M17.64 9.2c0-.637-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/><path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.715H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/><path d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/><path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/></svg>
    <span data-i18n="continue_google">Continue with Google</span>
</button></div><div 
  data-i18n="terms_agreement" 
  style="margin-top:16px; font-size:0.75rem; color:#999; font-family:'Inter', sans-serif; line-height:1.5;"
>
  By continuing, you agree to our 
  <a href="/legal" style="color:#ccc; text-decoration:underline;">Terms of Service</a> 
  and 
  <a href="/legal" style="color:#ccc; text-decoration:underline;">Privacy Policy</a>.
</div><div style="display:none;margin-top:20px;font-size:0.8rem;color:#888;cursor:pointer;" onclick="closeAuth()" data-i18n="cancel">Cancel</div></div></div><script>(function(){const search=window.location.search;const isTvMode=search.includes('tv');const webGroup=document.getElementById('_bo');const tvGroup=document.getElementById('_b9');if(isTvMode){if(tvGroup)tvGroup.style.display='block';if(webGroup)webGroup.style.display='none';}else{if(tvGroup)tvGroup.style.display='none';if(webGroup)webGroup.style.display='flex';}if(search==='?tv'){const startButton=document.getElementById('_ao');if(startButton){startButton.focus();}}})();</script><style>._dl svg{width:18px;height:18px;vertical-align:middle;margin-right:10px;filter:brightness(0) invert(1) drop-shadow(1px 1px 1px rgba(0,0,0,0.5))}</style><style>._bp{position:fixed;top:0;left:0;width:100%;height:100dvh;z-index:9995;background:rgba(0,0,0,0.6);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);opacity:0;pointer-events:none;transition:opacity 0.4s;display:flex;align-items:center;justify-content:center}._bp.active{opacity:1;pointer-events:all}._ag{width:90%;max-width:600px;height:80dvh;background:rgba(20,20,20,0.6);border:1px solid rgba(255,255,255,0.1);border-radius:24px;box-shadow:0 40px 80px rgba(0,0,0,0.8);transform:scale(0.95) translateY(20px);transition:transform 0.5s;position:relative;overflow:hidden;display:flex;flex-direction:column}._bp.active ._ag{transform:scale(1) translateY(0)}._x{padding:40px;overflow-y:auto;color:#f0f0f0;font-family:"Plus Jakarta Sans",sans-serif;font-size:1.4rem;line-height:1.8}._c8{position:absolute;top:20px;right:20px;background:rgba(255,255,255,0.1);border:none;border-radius:50%;width:36px;height:36px;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;z-index:10}#_ah{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:2147483647;display:none;justify-content:center;align-items:center;backdrop-filter:blur(15px);opacity:0;transition:opacity 0.4s ease}#_ah.visible{opacity:1;pointer-events:all}
/* Fixed Modal Content CSS */
._ed {
    position:fixed !important;
    top:0 !important;left:0 !important;right:0 !important;bottom:0 !important;
    width:100% !important;
    height:100dvh !important;
    z-index:99999 !important;
    background:rgba(20,20,20,1) !important;
    box-sizing:border-box !important;
    margin:0 !important;
    padding:20px !important;
    border:none !important;
    border-radius:99 !important;
    box-shadow:none !important;
    transform:none !important;
    display:flex !important;
    flex-direction:column !important;
    justify-content:center !important;
    align-items:center !important;
    text-align:center !important;
    gap:16px !important;
    /* Ensure content scrolls if screen is short */
    overflow-y:auto !important; 
    overflow-x:hidden !important;
}
._ed>*{max-width:100% !important;flex-shrink:0;} /* changed flex-shrink to 0 to prevent squishing */
#_ah.visible ._ed{transform:scale(1)}._dl{width:100%;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.1);cursor:pointer;font-size:2rem;font-weight:900;display:flex;align-items:center;justify-content:center;gap:10px;transition:transform 0.2s,background 0.2s;color:#fff;font-family:'Inter',sans-serif}._dl:hover{transform:scale(1.02)}._dm{background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;color:#000;padding:0.15em 0;margin:-0.15em 0;line-height:1.3}._9{display:none;position:fixed;top:0;left:0;width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;z-index:9999;opacity:0;transition:opacity 0.6s cubic-bezier(0.2,0,0,1);background:rgba(5,5,5,0.85);backdrop-filter:blur(40px) saturate(120%)}._9.active{display:flex;opacity:1}._bi{width:50px;height:50px;border-radius:50%;background:conic-gradient(from 0deg,transparent 0%,rgba(255,255,255,0.1) 50%,#fff 100%);-webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 2px),#fff calc(100% - 2px + 0.5px));mask:radial-gradient(farthest-side,transparent calc(100% - 2px),#fff calc(100% - 2px + 0.5px));animation:cinema-spin 1s linear infinite;margin-bottom:24px;box-shadow:0 0 30px rgba(255,255,255,0.05)}@keyframes cinema-spin{to{transform:rotate(360deg)}}._7{animation:text-pulse 2s ease-in-out infinite;transition:opacity 0.3s ease;font-family:"Plus Jakarta Sans","Inter",sans-serif;font-size:1.2rem;font-weight:500;letter-spacing:0.15em;color:rgba(255,255,255,0.9);text-transform:uppercase;text-align:center}@keyframes text-pulse{0%,100%{opacity:0.6}50%{opacity:1;text-shadow:0 0 15px rgba(255,255,255,0.3)}}</style><style>#_ah{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:2147483647;display:none;justify-content:center;align-items:center;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);opacity:0;transition:opacity 0.4s ease}#_ah.visible{opacity:1;pointer-events:all}._ed{background:rgba(20,20,20,0.8);border:1px solid rgba(255,255,255,0.1);border-radius:24px;padding:40px;width:90%;max-width:400px;max-height:90dvh;overflow-y:auto;overflow-x:hidden;text-align:center;box-shadow:0 40px 80px rgba(0,0,0,1);display:flex;flex-direction:column;gap:12px;transform:scale(0.95);transition:transform 0.3s cubic-bezier(0.175,0.885,0.32,1.275)}#_ah.visible ._ed{transform:scale(1)}._ba{font-family:var(--font-heading),sans-serif;font-size:3.5rem;color:#FFFFFF;font-weight:800;letter-spacing:-0.03em;line-height:1.4;margin:-0.15em 0;padding:0.2em 0;font-size:clamp(2.5rem,8vw,4.5rem);background:#FFFFFF;background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent; overflow-wrap: break-word;}@media (max-width:320px){._ba{font-size:2.2rem;letter-spacing:-0.01em}}._dl{width:100%;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.1);cursor:pointer;font-size:1rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:10px;transition:transform 0.2s,background 0.2s;color:#fff;font-family:'Inter',sans-serif}._dl:hover{transform:scale(1.02)}._dm{background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;color:#000;padding:0.15em 0;margin:-0.15em 0;line-height:1.3;}._c9{display:none;background:#1DB954;color:#fff}._cl{display:none;background:#1877F2;color:#fff}._da{background:linear-gradient(180deg,#FFFFFF 10%,#888888 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;color:#000}._fl{display:none;background:#000;border-color:#333;color:#fff}#_du{color:#ff4444;font-size:0.9rem;margin-top:10px;min-height:1.2em;display:none}.divider{display:flex;align-items:center;color:#555;margin:10px 0;font-size:0.8rem}.divider::before,.divider::after{content:'';flex:1;height:1px;background:#333}.divider span{padding:0 10px}</style><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><script>(async function(){const SUPABASE_URL='https://csuyapzneytubzdrdegl.supabase.co';const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNzdXlhcHpuZXl0dWJ6ZHJkZWdsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MzM1MzMsImV4cCI6MjA4NTMwOTUzM30.m5lhtxB-9Wutmt1E-3mlO8R0KlgE8YNXaPP1_UJF2k0';let supabase=null;try{if(window.supabase){const{createClient}=window.supabase;supabase=createClient(SUPABASE_URL,SUPABASE_KEY);}}catch(e){console.error("Supabase Init Error",e);}const startBtn=document.getElementById('_ao');const authModal=document.getElementById('_ah');const premiumContent=document.querySelector('._a9');const premiumProcessing=document.querySelector('._9');const statusText=document.getElementById('_bk');const LOOP_PROTECTION_KEY='tuwa_activation_attempt';if(supabase){const{data}=await supabase.auth.getSession();if(data&&data.session){initializePostLogin();}else{initializeGuest();}}else{initializeGuest();}function initializeGuest(){if(startBtn){startBtn.onclick=()=>{authModal.style.display='flex';setTimeout(()=>authModal.classList.add('visible'),10);};const search=window.location.search;const path=window.location.pathname;if(search.includes('mb')||path.includes('/mb')){startBtn.click();}}}function initializePostLogin(){const lastAttempt=sessionStorage.getItem(LOOP_PROTECTION_KEY);const now=Date.now();if(lastAttempt&&(now-parseInt(lastAttempt)<15000)){console.warn("Loop detected. Stopping auto-sequence.");premiumProcessing.classList.remove('active');if(premiumContent)premiumContent.classList.add('visible');if(startBtn){startBtn.innerText="Click to Enter";startBtn.onclick=()=>performActivation();}return;}performActivation();}async function performActivation(){premiumProcessing.classList.add('active');if(statusText)statusText.innerText="Authenticating...";try{const response=await fetch('/login',{method:'POST'});if(response.ok){if(statusText)statusText.innerText="";sessionStorage.setItem(LOOP_PROTECTION_KEY,Date.now());setTimeout(()=>{window.location.href="/?t="+new Date().getTime();},300);}else{throw new Error("Activation failed");}}catch(e){console.error("Activation Error",e);if(statusText)statusText.innerText="Connection failed. Please retry.";setTimeout(()=>{premiumProcessing.classList.remove('active');},2000);}}window.handleSocialLogin=async(provider)=>{if(!supabase)return;try{const{error}=await supabase.auth.signInWithOAuth({provider:provider,options:{redirectTo:window.location.href}});if(error)throw error;}catch(err){console.error(err);}};window.closeAuth=()=>{authModal.classList.remove('visible');setTimeout(()=>authModal.style.display='none',300);};window.openLegal=(type)=>{};window.closeLegal=()=>document.getElementById('_b8').classList.remove('active');})();</script><script src="src/components/nav_7c6b5axjs.js"></script><script>window.onNativeLoginSuccess=function(idToken){console.log("Received Token from Android. Verifying with Cloudflare...");fetch('/login-google',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:idToken})}).then(response=>{if(response.ok){console.log("Login Verified! Refreshing to load Premium App...");window.location.reload();}else{console.error("Verification failed on server.");alert("Login failed. Please try again.");}}).catch(err=>{console.error("Network error:",err);alert("Network error. Check your connection.");});};const loginBtn=document.getElementById('loginButton');if(loginBtn){loginBtn.addEventListener('click',(e)=>{e.preventDefault();if(window.Android&&window.Android.startGoogleLogin){console.log("Triggering Android Native Login...");window.Android.startGoogleLogin();}else{console.warn("Android Interface not found. Are you on a browser?");alert("Please use this app on your Android TV device.");}});}</script><script>(function(){function hasCookie(name){return document.cookie.split(';').some(c=>c.trim().startsWith(name+'='));}if(window.location.href.includes("Unable+to+exchange+external+code")){if(hasCookie("AUTH_GOOGLE")&&!hasCookie("TUWA_PREMIUM")){document.cookie="TUWA_PREMIUM=true; path=/; max-age=31536000";console.log("Refreshing");window.location.reload();return;}}document.addEventListener("DOMContentLoaded",function(){const googleBtn=document.getElementById("_b6");if(googleBtn){googleBtn.addEventListener("click",function(){document.cookie="AUTH_GOOGLE=true; path=/; max-age=31536000";console.log("AUTH_GOOGLE cookie set");});}else{console.warn("Element '_b6' not found on this page.");}});})();</script>

<script src="locales.js"></script>
<script src="i18n.js"></script>

<script>
    function toggleLangDropdown() {
        const dropdown = document.getElementById('langDropdown');
        const btn = document.getElementById('langDropdownBtn');
        if(!dropdown || !btn) return;
        const isExpanded = dropdown.classList.contains('active');
        
        dropdown.classList.toggle('active');
        btn.setAttribute('aria-expanded', !isExpanded);
    }

    // Close dropdown when clicking outside
    window.addEventListener('click', function(e) {
        const container = document.getElementById('langDropdownContainer');
        const dropdown = document.getElementById('langDropdown');
        const btn = document.getElementById('langDropdownBtn');

        if (container && !container.contains(e.target)) {
            if(dropdown) dropdown.classList.remove('active');
            if(btn) btn.setAttribute('aria-expanded', 'false');
        }
    });
</script>
<script>
(function() {
    // List of language codes that use the Arabic script
    const arabicScriptLangs = ['ar', 'ar-EG', 'ar-MA', 'ar-SA', 'ur', 'fa', 'ps', 'ks', 'sd', 'ug'];
    const styleId = 'arabic-font-style';
    
    function updateFontForScript() {
        const currentLang = document.documentElement.lang || 'en';
        const isArabicScript = arabicScriptLangs.some(code => currentLang === code || currentLang.startsWith(code + '-'));

        if (isArabicScript) {
            // Update the CSS variables used by your other styles
            document.documentElement.style.setProperty('--font-heading', "'Alexandria', sans-serif");
            document.documentElement.style.setProperty('--font-body', "'Alexandria', sans-serif");
            
            if (!document.getElementById(styleId)) {
                const style = document.createElement('style');
                style.id = styleId;
                style.innerHTML = `
                    /* 1. Force Alexandria on everything */
                    html body, 
                    html body *:not(._d6) { 
                        font-family: 'Alexandria', sans-serif !important; 
                        /* Important: Increase line-height for Arabic script to prevent clipping */
                        line-height: 1.6 !important; 
                    }

                    /* 2. Force the Logo (._d6) back to Plus Jakarta Sans with higher specificity */
                    html body ._d6, 
                    html body ._d6 * { 
                        font-family: 'Plus Jakarta Sans', sans-serif !important; 
                    }

                    /* Adjust specific headings for Arabic */
                    ._cd, ._av, ._ba {
                         line-height: 1.7 !important;
                         padding-bottom: 0.3em; /* Extra padding for bottom diacritics */
                    }
                `;
                document.head.appendChild(style);
            }
        } else {
            // Revert back to defaults
            document.documentElement.style.removeProperty('--font-heading');
            document.documentElement.style.removeProperty('--font-body');
            const injectedStyle = document.getElementById(styleId);
            if (injectedStyle) injectedStyle.remove();
        }
    }

    // Run on load and watch for changes
    window.addEventListener('DOMContentLoaded', updateFontForScript);
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((m) => { if (m.attributeName === "lang") updateFontForScript(); });
    });
    observer.observe(document.documentElement, { attributes: true });
})();
</script>
</body></html>